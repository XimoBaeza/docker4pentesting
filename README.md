# docker4pentesting

## Proyecto de Dockerfile para crear una imagen docker que tenga las principales herramientas de pentesting.

El objetivo de este proyecto es construir una imagen docker que tenga instaladas las principales herramientas de pentesting para poder desplegarlo en un VPS o en nuestra máquina local, y tener siempre acceso a las herramientas sea cual sea el ordenador en el que estemos, independientemente de cual sea nuestro sistema operativo.

Aunque el principal objetivo sea el nombrado anteriormente, me encanta el nivel de personalización al que se puede llegar con Linux, y he preparado la imagen para que tenga el tema powerlevel10k de ZSH, además de LSD, que es una variante del comando ls que muestra iconos tanto en los directorios como en los archivos, y es capaz de dependioendo del tipo de archivo que sea el que estamos listando, mostrar un icono u otro.

También he incluido el comando bat, que es una variante del típico cat, pero muestra la salida con la sintaxis colorizada, entre otras opciones de personalización, como grc para colorizar la salida de algunos comandos, vimrc, zshrc, oh my tmux para poder abrir varias terminales y paneles, etc...

Para que toda la personalización se vea correctamente necesitaremos instalar una fuente parcheada. Esto es tan simple como descargar la fuente que más nos guste de https://www.nerdfonts.com/font-downloads descomprimir el contenido y copiarlo (como root) a la ruta /usr/local/share/fonts, y luego en las opciones de nuestro terminal elegir la fuente descargada para que la utilice.

Una vez hecho esto ya podremos ver correctamente los iconos en la consola.

![](/img/icons.png)

![](/img/bat.png)

## Creación de la imagen

El siguiente paso será clonar el repositorio, situarnos dentro del directorio clonado y construir la imagen.

```bash
git clone https://github.com/XimoBaeza/docker4pentesting.git
cd docker4pentesting
sudo docker build -t project_x:v1 .
```

Con esto ya tendremos nuestra imagen creada y lista para levantar un contenedor a partir de ella.

## Como usar el navegador y burpsuite

He preparado la imagen para que podamos levantar el proxy squid, y de esta forma podremos configurar nuestro navegador local para que use como proxy la ip del contenedor por el puerto 3128, y se enrute el tráfico a través del contenedor. Además en burpsuite también podemos indicarle que utilice un proxy. En este caso configuraremos burpsuite para que utilice el proxy squid del contenedor, y el navegador para que utilice como proxy el burpsuite. De esta forma nuestras peticiones en el navegador local pasarán por burpsuite y después por el proxy squid del contenedor. Para ello lanzaremos el contenedor con el parámetro -p 3128:3128.

Ejecutamos sudo service squid start, y ya estaría el proxy preparado para aceptar nuestras peticiones.

En el navegador podemos usar la extensión "Foxy Proxy" para gestionar nuestros proxies.



